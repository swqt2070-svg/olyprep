{% extends "base.html" %}
{% block title %}Регистрация — OlyPrep{% endblock %}
{% block content %}
<div class="center">
    <section class="card card-narrow">
        <div class="card-header-inline">
            <h1 style="font-size:1.1rem;">Регистрация</h1>
            <span class="chip">
                <span class="chip-dot"></span>
                Новый аккаунт
            </span>
        </div>

        {% if error %}
            <div class="alert alert-error">{{ error }}</div>
        {% endif %}
        {% if success %}
            <div class="alert alert-success">{{ success }}</div>
        {% endif %}

        <form method="post" action="/ui/register" class="form">
            <div class="field">
                <label class="field-label">ФИО</label>
                <input type="text" name="full_name" required value="{{ full_name | default('') }}">
            </div>
            <div class="field">
                <label class="field-label">Почта</label>
                <input type="text" name="email" required>
            </div>
            <div class="field">
                <label class="field-label">Пароль</label>
                <input type="password" name="password" required>
            </div>
            <div class="field">
                <label class="field-label">Код приглашения</label>
                <input type="text" name="invite_code" placeholder="получите у учителя или админа">
                <p class="muted">
                    Первый зарегистрированный пользователь в системе становится админом и может выдавать коды.
                    Для всех остальных регистраций код обязателен.
                </p>
            </div>
            <button type="submit" class="btn btn-primary">Создать аккаунт</button>
        </form>

        <p class="muted" style="margin-top:0.7rem;">
            Уже есть аккаунт?
            <a href="/ui/login">Войти</a>
        </p>
    </section>
</div>
{% endblock %}
